import{A}from"./AuthenticatedLayout--9LY9T-p.js";import{F as _}from"./@inertiajs-BgBGItYw.js";import{d as F}from"./lodash.debounce-BuEyZVTI.js";import{B as V,Q as P,R,S as j,P as M}from"./@element-plus-BeIX5OZl.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{E as H,a as f}from"./element-plus-CWFOddsC.js";import{e as J,w as W,a1 as I,ak as a,ar as K,c as C,Y as e,S as o,F as Q,o as k,a as i,T as U,W as w,X as D}from"./@vue-B1CVMTK9.js";import"./moment-C5S46NFB.js";import"./axios-CCb-kr4I.js";import"./deepmerge-CtOfIP5S.js";import"./call-bind-aBC2DkHY.js";import"./get-intrinsic-BKEvijrG.js";import"./es-errors-DzOT6E3C.js";import"./has-symbols-eVqrYdw7.js";import"./has-proto-JnoBQRdH.js";import"./function-bind-BbkWVFrm.js";import"./hasown-DYqjtFKE.js";import"./set-function-length-B5OANX0j.js";import"./define-data-property-DO9o5wXF.js";import"./es-define-property-tzmkNPou.js";import"./gopd-CEkvUycD.js";import"./has-property-descriptors-DphFXkuo.js";import"./qs-Bgg5YRNC.js";import"./side-channel-CbjMffun.js";import"./object-inspect-8Tg_cmh0.js";import"./nprogress-uqLJ5xmn.js";import"./lodash.clonedeep-Bxvn-V0B.js";import"./lodash.isequal-BYpQg7Um.js";import"./lodash-es-CiJSjksT.js";import"./@vueuse-CNLP_BxJ.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./dayjs-DnZiAhhr.js";import"./async-validator-DKvM95Vc.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui-DF51-gJp.js";const X={props:["bookings"],components:{AuthenticatedLayout:A,Plus:V,Edit:P,Refresh:R,Filter:j,Delete:M},setup(){const t=J({showDialog:!1,isLoading:!1,dialog:{dialogTitle:"",dialogData:{}},pageList:[10,20,60,80,100],param:{page:1,page_size:10,search:""}}),m=n=>{t.param.page_size=n,c()},u=n=>{t.param.page=n,c()},l=()=>{t.dialog.dialogTitle="Create",t.dialog.dialogData={},t.showDialog=!0},h=n=>{t.dialog.dialogTitle="Edit",t.dialog.dialogData=JSON.parse(JSON.stringify(n)),t.showDialog=!0},b=n=>{H.confirm("Are you sure you want to delete?","Warning",{confirmButtonText:"Confirm",cancelButtonText:"Cancel",type:"warning",draggable:!0,closeOnClickModal:!1}).then(()=>{_.delete(route("admin.bookings.destroy",n),{onSuccess:d=>{f.success(d.props.flash.success)},onError:d=>{f.error(d.props.flash.error)}})}).catch(()=>{f({type:"info",message:"Cancel"})})};W(()=>t.param.search,F(()=>{c()},500));const c=()=>{t.isLoading=!0,_.get("/admin/bookings",t.param,{preserveScroll:!0,preserveState:!0,replace:!0,onFinish:()=>{t.isLoading=!1}})},g=()=>{t.showDialog=!1},p=()=>{_.get(route("admin.bookings.index"))};return{...I(t),addNew:l,handleEdit:h,handleDelete:b,onSizeChange:m,onCurrentChange:u,closeDialog:g,reset:p}}},Y={class:"p-4 container mx-auto overflow-x-auto"},q=i("h4",{class:"text-lg font-bold mb-3 ml-1"},"Today Bookings",-1),G={class:"bg-white p-4 rounded shadow-sm border border-gray-200"},Z={class:"flex items-center justify-between gap-4 xl:gap-0 mt-2 mb-5"},$={class:"flex items-center gap-3"},ee=i("span",null,"New",-1),te={"element-loading-text":"Loading...","element-loading-background":"rgba(229, 231, 235, 0.7)"},oe={class:"my-5 flex items-center justify-center"};function ae(t,m,u,l,h,b){const c=a("Head"),g=a("Plus"),p=a("el-icon"),n=a("el-button"),d=a("el-input"),v=a("Refresh"),r=a("el-table-column"),x=a("el-tag"),S=a("Edit"),y=a("el-tooltip"),z=a("Delete"),B=a("el-table"),E=a("el-pagination"),L=a("AuthenticatedLayout"),N=K("loading");return k(),C(Q,null,[e(c,{title:"Today Bookings"}),e(L,null,{default:o(()=>[i("div",Y,[q,i("div",G,[i("div",Z,[i("div",$,[e(n,{type:"primary",onClick:l.addNew},{default:o(()=>[e(p,null,{default:o(()=>[e(g)]),_:1}),ee]),_:1},8,["onClick"])]),i("div",null,[e(d,{modelValue:t.param.search,"onUpdate:modelValue":m[0]||(m[0]=s=>t.param.search=s),style:{width:"200px"},placeholder:"Search Bookings"},null,8,["modelValue"]),e(n,{type:"danger",onClick:l.reset,class:"ml-3"},{default:o(()=>[e(p,null,{default:o(()=>[e(v)]),_:1})]),_:1},8,["onClick"])])]),U((k(),C("div",te,[e(B,{data:u.bookings.data,"table-layout":"fixed","default-sort":{prop:"appointment_no",order:"descending"}},{default:o(()=>[e(r,{prop:"appointment_no",label:"Book No.",sortable:""}),e(r,{prop:"customer_name",label:"Cus: Name",sortable:""}),e(r,{prop:"desc",label:"Desc"}),e(r,{label:"Total Price"},{default:o(s=>[w(D(s.row.total_price)+" Ks ",1)]),_:1}),e(r,{label:"Status"},{default:o(s=>[e(x,{type:"primary"},{default:o(()=>[w(D(s.row.status),1)]),_:2},1024)]),_:1}),e(r,{prop:"created_at",label:"Booked Date",sortable:""}),e(r,{label:"Actions"},{default:o(s=>[e(y,{class:"box-item",content:"Edit",placement:"top"},{default:o(()=>[e(n,{type:"warning",circle:"",style:{"margin-bottom":"5px"},onClick:T=>l.handleEdit(s.row)},{default:o(()=>[e(p,null,{default:o(()=>[e(S)]),_:1})]),_:2},1032,["onClick"])]),_:2},1024),e(y,{class:"box-item",content:"Delete",placement:"top"},{default:o(()=>[e(n,{type:"danger",circle:"",style:{"margin-bottom":"5px"},onClick:T=>l.handleDelete(s.row.id)},{default:o(()=>[e(p,null,{default:o(()=>[e(z)]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"]),i("div",oe,[e(E,{onSizeChange:l.onSizeChange,onCurrentChange:l.onCurrentChange,"page-size":t.param.page_size,background:!0,"page-sizes":t.pageList,"current-page":t.param.page,layout:"total,sizes,prev,pager,next,jumper",total:u.bookings.total},null,8,["onSizeChange","onCurrentChange","page-size","page-sizes","current-page","total"])])])),[[N,t.isLoading]])])])]),_:1})],64)}const He=O(X,[["render",ae]]);export{He as default};
