import{d as I,r as o,ak as k,o as i,c as f,Y as g,S as m,W as C,X as _,F as S,ab as U,R as B,M as L}from"./@vue-CiBlh0uF.js";const P={class:"mb-5"},z=I({__name:"PermissionsList",props:{role:{type:Object,required:!0},permis:{type:Object,required:!0},type:{type:String,required:!0},selected:{type:Array,required:!0}},emits:["on-checked","on-checked-all"],setup(V,{emit:b}){const l=V,h=b,u=o(!1),r=o(!1),s=o(l.selected.length?l.selected:[]),y=x(),c=o(y),p=o(l.role.id?l.role.id:"create");function x(){return l.selected.length>0?new Array(l.selected.length).fill(!0):new Array(l.permis.length).fill(!1)}const q=e=>{const a=l.permis.map(n=>n.id);s.value=e?a:[],r.value=!1,e==!0?c.value=c.value.map((n,d)=>!0):c.value=c.value.map((n,d)=>!1),h("on-checked-all",[a,e])},A=e=>{document.querySelector(".checked-value-"+p.value+e).classList.contains("is-checked")?(s.value.filter(n=>n==e),c.value[e]=!0):(s.value.filter(n=>n!=e),c.value[e]=!1),h("on-checked",[e,c.value[e]])},w=e=>{const a=e.length;u.value=a===l.permis.length,r.value=a>0&&a<l.permis.length};return(e,a)=>{const n=k("el-checkbox"),d=k("el-checkbox-group");return i(),f("div",P,[g(n,{modelValue:u.value,"onUpdate:modelValue":a[0]||(a[0]=t=>u.value=t),indeterminate:r.value,onChange:q,label:l.type,class:"capitalize"},{default:m(()=>[C(_(l.type),1)]),_:1},8,["modelValue","indeterminate","label"]),g(d,{class:"flex flex-wrap",modelValue:s.value,"onUpdate:modelValue":a[1]||(a[1]=t=>s.value=t),onChange:w},{default:m(()=>[(i(!0),f(S,null,U(l.permis,t=>(i(),B(n,{key:t.id,label:t.slug,value:t.id,onChange:v=>A(t.id),modelValue:c.value[t.id],"onUpdate:modelValue":v=>c.value[t.id]=v,class:L("checked-value-"+p.value.value+t.id)},{default:m(()=>[C(_(t.name),1)]),_:2},1032,["label","value","onChange","modelValue","onUpdate:modelValue","class"]))),128))]),_:1},8,["modelValue"])])}}});export{z as _};
