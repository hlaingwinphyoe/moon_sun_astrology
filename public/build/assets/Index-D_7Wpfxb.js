import{A as N}from"./AuthenticatedLayout-TSwoo5LD.js";import{F as g}from"./@inertiajs-BgBGItYw.js";import{d as T}from"./lodash.debounce-BuEyZVTI.js";import F from"./Dialog-BclVmsbK.js";import{B as R,Q as j,R as M,S as O,P}from"./@element-plus-BeIX5OZl.js";import{_ as U}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{E as D,a as p}from"./element-plus-CWFOddsC.js";import{e as H,w as I,a1 as J,ak as a,ar as Q,c as C,Y as e,S as o,F as W,o as w,a as r,T as X,V as Y,X as q}from"./@vue-B1CVMTK9.js";import"./moment-C5S46NFB.js";import"./axios-CCb-kr4I.js";import"./deepmerge-CtOfIP5S.js";import"./call-bind-aBC2DkHY.js";import"./get-intrinsic-BKEvijrG.js";import"./es-errors-DzOT6E3C.js";import"./has-symbols-eVqrYdw7.js";import"./has-proto-JnoBQRdH.js";import"./function-bind-BbkWVFrm.js";import"./hasown-DYqjtFKE.js";import"./set-function-length-B5OANX0j.js";import"./define-data-property-DO9o5wXF.js";import"./es-define-property-tzmkNPou.js";import"./gopd-CEkvUycD.js";import"./has-property-descriptors-DphFXkuo.js";import"./qs-Bgg5YRNC.js";import"./side-channel-CbjMffun.js";import"./object-inspect-8Tg_cmh0.js";import"./nprogress-uqLJ5xmn.js";import"./lodash.clonedeep-Bxvn-V0B.js";import"./lodash.isequal-BYpQg7Um.js";import"./InputError-Cdm0MI_H.js";import"./lodash-es-CiJSjksT.js";import"./@vueuse-CNLP_BxJ.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./dayjs-DnZiAhhr.js";import"./async-validator-DKvM95Vc.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui-DF51-gJp.js";const G={props:["banks"],components:{AuthenticatedLayout:N,Dialog:F,Plus:R,Edit:j,Refresh:M,Filter:O,Delete:P},setup(){const t=H({showDialog:!1,isLoading:!1,dialog:{dialogTitle:"",dialogData:{}},pageList:[10,20,60,80,100],param:{page:1,page_size:10,search:""}}),_=l=>{t.param.page_size=l,u()},f=l=>{t.param.page=l,u()},s=()=>{t.dialog.dialogTitle="Create",t.dialog.dialogData={},t.showDialog=!0},y=l=>{t.dialog.dialogTitle="Edit",t.dialog.dialogData=JSON.parse(JSON.stringify(l)),t.showDialog=!0},v=l=>{D.confirm("Are you sure want to change status of this item?","Confirmation",{confirmButtonText:"Confirm",cancelButtonText:"Cancel",type:"warning",draggable:!0,closeOnClickModal:!1}).then(()=>{g.patch(route("admin.banks.change-status",l.id),{},{preserveState:!0,onSuccess:i=>{p.success(i.props.flash.success)},onError:i=>{p.error(i.props.flash.error)}})}).catch(()=>{g.reload(),p({type:"info",message:"Cancel"})})},b=l=>{D.confirm("Are you sure you want to delete?","Warning",{confirmButtonText:"Confirm",cancelButtonText:"Cancel",type:"warning",draggable:!0,closeOnClickModal:!1}).then(()=>{g.delete(route("admin.banks.destroy",l),{onSuccess:i=>{p.success(i.props.flash.success)},onError:i=>{p.error(i.props.flash.error)}})}).catch(()=>{p({type:"info",message:"Cancel"})})};I(()=>t.param.search,T(()=>{u()},500));const u=()=>{t.isLoading=!0,g.get("/admin/items",t.param,{preserveScroll:!0,preserveState:!0,replace:!0,onFinish:()=>{t.isLoading=!1}})},c=()=>{t.showDialog=!1},d=()=>{g.get(route("admin.items.index"))};return{...J(t),addNew:s,handleEdit:y,handleDelete:b,onSizeChange:_,onCurrentChange:f,closeDialog:c,reset:d,changeStatus:v}}},K={class:"p-4 container mx-auto overflow-x-auto"},Z=r("h4",{class:"text-lg font-bold mb-3 ml-1"},"Banks",-1),$={class:"bg-white p-4 rounded shadow-sm border border-gray-200"},ee={class:"flex items-center justify-between gap-4 xl:gap-0 mt-2 mb-5"},te={class:"flex items-center gap-3"},oe=r("span",null,"New",-1),ae={"element-loading-text":"Loading...","element-loading-background":"rgba(229, 231, 235, 0.7)"},ne=["src","alt"],le={class:"font-semibold"},se={class:"my-5 flex items-center justify-center"};function ie(t,_,f,s,y,v){const b=a("Head"),u=a("Plus"),c=a("el-icon"),d=a("el-button"),l=a("el-input"),i=a("Refresh"),m=a("el-table-column"),x=a("el-switch"),S=a("Edit"),k=a("el-tooltip"),E=a("Delete"),z=a("el-table"),B=a("el-pagination"),V=a("Dialog"),A=a("AuthenticatedLayout"),L=Q("loading");return w(),C(W,null,[e(b,{title:"Banks"}),e(A,null,{default:o(()=>[r("div",K,[Z,r("div",$,[r("div",ee,[r("div",te,[e(d,{type:"primary",onClick:s.addNew},{default:o(()=>[e(c,null,{default:o(()=>[e(u)]),_:1}),oe]),_:1},8,["onClick"])]),r("div",null,[e(l,{modelValue:t.param.search,"onUpdate:modelValue":_[0]||(_[0]=n=>t.param.search=n),style:{width:"200px"},placeholder:"Search Banks"},null,8,["modelValue"]),e(d,{type:"danger",onClick:s.reset,class:"ml-3"},{default:o(()=>[e(c,null,{default:o(()=>[e(i)]),_:1})]),_:1},8,["onClick"])])]),X((w(),C("div",ae,[e(z,{data:f.banks.data,"table-layout":"fixed"},{default:o(()=>[e(m,{label:"Image"},{default:o(n=>[n.row.image!=""?(w(),C("img",{key:0,src:n.row.image,class:"h-10 object-cover rounded-md",alt:n.row.name},null,8,ne)):Y("",!0)]),_:1}),e(m,{label:"Acc Name",sortable:""},{default:o(n=>[r("h5",le,q(n.row.acc_name),1)]),_:1}),e(m,{prop:"acc_no",label:"Acc No."}),e(m,{prop:"type",label:"Type"}),e(m,{label:"Available",align:"center"},{default:o(n=>[e(x,{modelValue:n.row.disabled,"onUpdate:modelValue":h=>n.row.disabled=h,"active-value":0,"inactive-value":1,onChange:h=>s.changeStatus(n.row)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),e(m,{label:"Actions"},{default:o(n=>[e(k,{class:"box-item",content:"Edit",placement:"top"},{default:o(()=>[e(d,{type:"warning",circle:"",style:{"margin-bottom":"5px"},onClick:h=>s.handleEdit(n.row)},{default:o(()=>[e(c,null,{default:o(()=>[e(S)]),_:1})]),_:2},1032,["onClick"])]),_:2},1024),e(k,{class:"box-item",content:"Delete",placement:"top"},{default:o(()=>[e(d,{type:"danger",circle:"",style:{"margin-bottom":"5px"},onClick:h=>s.handleDelete(n.row.id)},{default:o(()=>[e(c,null,{default:o(()=>[e(E)]),_:1})]),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"]),r("div",se,[e(B,{onSizeChange:s.onSizeChange,onCurrentChange:s.onCurrentChange,"page-size":t.param.page_size,background:!0,"page-sizes":t.pageList,"current-page":t.param.page,layout:"total,sizes,prev,pager,next,jumper",total:f.banks.total},null,8,["onSizeChange","onCurrentChange","page-size","page-sizes","current-page","total"])])])),[[L,t.isLoading]])])]),e(V,{show:t.showDialog,onClosed:s.closeDialog,title:t.dialog.dialogTitle,data:t.dialog.dialogData},null,8,["show","onClosed","title","data"])]),_:1})],64)}const Xe=U(G,[["render",ie]]);export{Xe as default};
